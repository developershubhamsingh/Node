# MongoDb setups : 
> Locals.
> Clouds.

>https://www.mongodb.com/products/tools/compass

    Sql          MongoDb
    Database     Database .
    Table        Collection.
    Row          Documents.
    Select       Find .
    Insert       Insert .
    Delete       Remove .
    Updata       Updata/upsert .

https://www.mongodb.com/products/self-managed/community-edition

> Download and Install
> Go inside C drive and make folder by name of data
> Inside Data folder make folder by name of db
> C:\data\db

# start mongodb server : 
> open cmd and start server (27017)
> cd C:\Program Files\MongoDB\Server\7.0\bin
> mongod
> Do not close this cmd

# start mongo client : 
> open cmd again and start server (27017)
> cd C:\Program Files\MongoDB\Server\7.0\bin
> mongosh

^Mac
mongod --config /usr/local/etc/mongod.conf --fork
 
 > default port no 
 > mongodb://localhost:27017

## commands :

# To see all database :
 > show dbs 

# Go inside database : 
 > use database .

# To see all the collection : 
 > show collections .

# find all the data : 
 > db.collectionName.find()
 > Ex : db.category.find()
 > first time it can show till 20 records .
 > type "it" to see more records .

# Add condition in find : 
 > db.collectionName.find({conditions})
 > db.category.find({category_id:2})
 > if there is more conditions them give "," and write con.

# Delete any collections from database:
 > For deleting one record from documents 
 > db.collection_name.deleteOne({}) (by default it deletes first record).
 > For Deleting all record from collection .
 > db.collection_name.deleteMany({})

# create new database :
> use database  


# create collection /insert data : 
> db.user.insert({})
> if more than one records than write everything in array[].

Ex :  
 > use user  
 > db.user.insert({name:"Aakash"})
 > db.user.find()
[
     { 
      _id: ObjectId('68c57bff0cc6923e0486b01d'),
      name: 'Aakash' 
      } 
]
 >  db.user.insert({name:"Nikita",})
 >  db.user.find()
 >[
  { _id: ObjectId('68c57bff0cc6923e0486b01d'), name: 'Aakash' },
  { _id: ObjectId('68c57d530cc6923e0486b01e'), name: 'Nikita' }
]

> either you give all the _id or it will create automatically .
> > db.user.find()
>[
  { _id: ObjectId('68c57bff0cc6923e0486b01d'), name: 'Aakash' },
  { _id: ObjectId('68c57d530cc6923e0486b01e'), name: 'Nikita' },
  { _id: 1, name: 'Sara' }
]

> duplicate _id cannot be given .
> db.user.find()
[
  { _id: ObjectId('68c57bff0cc6923e0486b01d'), name: 'Aakash' },
  { _id: ObjectId('68c57d530cc6923e0486b01e'), name: 'Nikita' },
  { _id: 1, name: 'Sara' },
  { _id: 2, name: 'Rana' }
] 

> _id > Primary key
> unique
> 12 byte size
4 bytes> timestamp
5 bytes> Random number
3 bytes> Counter

# **projection** 
`0=false i.e.(don't want)`
`1=true  i.e.(only want)`
`db.restaurants.find({conditions},{projection})`
`if blank {} -Koi condition nahi Sabhi documents chahiye> `

`ony want to see restaurants name from restaurants collection`
# db.restaurants.find({},{restaurant_name:1,})

>`by default all records have _id unique id if don't want`
# db.restaurants.find({},{restaurant_name:1,_id:0})

>`restaurants name,restaurant_thumb from restaurants collection`
# db.restaurants.find({},{restaurant_name:1,_id:0,restaurant_thumb:1})

`if want all except mealTypes cuisines image_gallery `
# db.restaurants.find({},{mealTypes:0,image_gallery:0,cuisines:0})

# db.restaurants.find({state_id:3},{restaurant_name:1,_id:0,restaurant_thumb:1})

`find({conditions},{projection})`
 # db.restaurants.find({state_id:3},{restaurant_name:1,_id:0,restaurant_thumb:1})

`no projection but nested data in conditions `
# db.restaurants.find({"mealTypes.mealtype_id":1})

# shorting data.
`sorting on the basis of restaurant name so sort({restaurant_name:1} , only want to see restaurant name and address so in projection{restaurant_name:1,_id:0, address:1}) and no condition so empty braces{} `
# db.restaurants.find({},{restaurant_name:1,_id:0, address:1}).sort({restaurant_name:1})
`Observe data gets sorted restaurant name starts with A is in first  then restaurant name starts with b than restaurant C it is in ascending order A B C -Z`

`It is in descending order so my last one in short like C B A`
# db.restaurants.find({},{restaurant_name:1,_id:0, address:1}).sort({restaurant_name:-1})

`Sorting on the basis of cost price that is lower to higher  cost price  that's why :1`
# db.restaurants.find({},{restaurant_name:1,_id:0, address:1,cost:1}).sort({cost:1})


`Sorting on the basis of cost price that is higher to lower cost price that's why:-1`
# db.restaurants.find({},{restaurant_name:1,_id:0, address:1,cost:1}).sort({cost:-1})

` limits means number of records you want if you want to 5 record on the basis of sorting cost`
# db.restaurants.find({},{restaurant_name:1,_id:0, address:1,cost:1}).sort({cost:-1}).limit(5)

`Sort on the basis of restaurant name and give me 5 records`# db.restaurants.find({},{restaurant_name:1,_id:0, cost:1}).sort({restaurant_name:-1}).limit(5)
